{"version":3,"sources":["atom/calculator.ts","atom/shopping.ts","design/color.ts","pages/Layout.tsx","pages/Calculator.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["mainAtom","atomWithReset","formular","splitFomular","length","head","tail","slice","isOperator","onReadableFormular","atom","get","state","isNotEmpty","operator","join","onReadableEvaluation","result","mathjs","onWritableClearFormular","set","undefined","wirtable","onWritableAppendFormular","concat","newFormular","onWritableRemoveFormular","headOfHead","newTail","substring","readable","items","onReadableShoppingItems","onReadableSumShoppingItems","reduce","sum","current","price","onReadableSplitSumShoppingItems","strSum","upper3","less3","upper","less","Number","parseInt","toLocaleString","onReadableRatioShoppingItems","last3Number","onWritableAppendShoppingItem","update","onWritableRemoveShoppingItem","uid","filter","item","writable","onWritableRemoveAllShoppingItem","uiPrimaryUX","color","uiPrimaryRed","uiPrimaryOrange","uiPrimaryGreen","uiPrimaryFont","StyledDivPageBox","styled","div","StyledDivPageHeading","lighten","alpha","toString","StyledDivPageBody","StyledStackHeading","Stack","StyledH1Formular","h1","StyledRegisteredShoppingItemBox","StyledRegisteredShoppingItems","StyledRegisteredShoppingEachItem","StyledStackFormularBox","StyledStackButtonBox","StyledStackControlButtonBox","StyledShoppingItemBox","Calculator","intl","useIntl","useAtomValue","evaluation","onAppendFormular","useUpdateAtom","onRemoveFormular","onClearFormular","onAppendShoppingItem","shoppingWritable","onRemoveShoppingItem","onRemoveAllShoppingItem","shoppingItems","shoppingReadable","sumShoppingItems","splitSumShoppingItems","ratioShoppingItems","minimumPrice","onHandleClickCalcularButton","useCallback","num","onHandleCalculateRatio","currentPrice","goalPrice","mul","floor","toNumber","onHandleCalculatePrice","total","sub","onHandleReachPrice","Text","as","variant","formatMessage","id","map","horizontal","DefaultButton","onClick","style","width","className","classnames","textAlign","justifyContent","fontWeight","PrimaryButton","parsedPrice","isFalse","isNaN","uuid","replace","console","debug","appTheme","palette","App","initializeIcons","log","process","messages","korean","locale","defaultLocale","ThemeProvider","theme","basename","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","styles","css","emotionReset","document","getElementById"],"mappings":"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","file":"static/js/main.33e526f5.chunk.js","sourcesContent":["import { atomWithReset } from 'jotai/utils';\nimport { atom } from 'jotai';\nimport { isNotEmpty } from 'my-easy-fp';\nimport * as mathjs from 'mathjs';\n\ninterface ICalculatorPropsAtom {\n  formular: string[];\n  operator?: string;\n}\n\nconst defaultValue: ICalculatorPropsAtom = {\n  formular: [],\n};\n\nexport const mainAtom = atomWithReset(defaultValue);\n\nfunction splitFomular(formular: string[]): { head: string[]; tail: string } {\n  if (formular.length <= 0) {\n    return { head: [], tail: '' };\n  }\n\n  if (formular.length <= 1) {\n    return { head: [], tail: formular[0] };\n  }\n\n  const tail = formular[formular.length - 1];\n  const head = formular.slice(0, formular.length - 1);\n\n  return { head, tail };\n}\n\nfunction isOperator(formular: string) {\n  if (formular === '+') {\n    return true;\n  }\n\n  if (formular === '-') {\n    return true;\n  }\n\n  if (formular === '*') {\n    return true;\n  }\n\n  if (formular === '/') {\n    return true;\n  }\n\n  return false;\n}\n\nconst onReadableFormular = atom((get) => {\n  const state = get(mainAtom);\n\n  if (isNotEmpty(state.operator)) {\n    return [...state.formular, state.operator].join(' ');\n  }\n\n  return state.formular.join(' ');\n});\n\nconst onReadableEvaluation = atom((get) => {\n  try {\n    const state = get(mainAtom);\n\n    if (state.formular.length > 2) {\n      const result = mathjs.evaluate(state.formular.join(' '));\n      return `${result}`;\n    }\n\n    if (state.formular.length === 1) {\n      return `${state.formular[0]}`;\n    }\n\n    return '';\n  } catch {\n    return '';\n  }\n});\n\nconst onWritableClearFormular = atom<null, undefined>(null, (get, set) => {\n  const state = { ...get(mainAtom) };\n  state.formular = [];\n  state.operator = undefined;\n\n  set(mainAtom, state);\n});\n\nconst onWritableAppendFormular = atom<null, string>(null, (get, set, formular) => {\n  const state = get(mainAtom);\n\n  if (state.formular.length <= 0 && isOperator(formular)) {\n    return set(mainAtom, state);\n  }\n\n  if (isOperator(formular)) {\n    state.operator = formular;\n    return set(mainAtom, { ...state });\n  }\n\n  if (isNotEmpty(state.operator)) {\n    state.formular = state.formular.concat([state.operator, formular]);\n    state.operator = undefined;\n\n    return set(mainAtom, { ...state });\n  }\n\n  const { head, tail } = splitFomular(state.formular);\n  const newFormular = head.concat([`${tail}${formular}`]);\n\n  state.formular = newFormular;\n  state.operator = undefined;\n\n  return set(mainAtom, { ...state });\n});\n\nconst onWritableRemoveFormular = atom<null, undefined>(null, (get, set) => {\n  const state = get(mainAtom);\n\n  if (state.formular.length <= 0) {\n    return set(mainAtom, state);\n  }\n\n  if (isNotEmpty(state.operator)) {\n    state.operator = undefined;\n    return set(mainAtom, { ...state });\n  }\n\n  if (state.formular[0].length <= 1) {\n    state.formular = [];\n    state.operator = undefined;\n\n    return set(mainAtom, { ...state });\n  }\n\n  const { head, tail } = splitFomular(state.formular);\n\n  if (head.length >= 2 && tail.length <= 1) {\n    const { head: headOfHead, tail: headOfTail } = splitFomular(head);\n\n    if (isOperator(headOfTail)) {\n      state.formular = headOfHead;\n      return set(mainAtom, { ...state });\n    }\n\n    state.formular = head;\n    return set(mainAtom, { ...state });\n  }\n\n  const newTail = tail.substring(0, tail.length - 1);\n  state.formular = [...head, newTail];\n\n  return set(mainAtom, { ...state });\n});\n\nexport const wirtable = {\n  onWritableAppendFormular,\n  onWritableRemoveFormular,\n  onWritableClearFormular,\n};\nexport const readable = { onReadableFormular, onReadableEvaluation };\n","import { atom } from 'jotai';\nimport { atomWithReset } from 'jotai/utils';\n\nexport interface IShoppingItem {\n  name?: string;\n  uid: string;\n  price: number;\n}\n\nconst defaultValue: { items: IShoppingItem[] } = {\n  items: [],\n};\n\nexport const mainAtom = atomWithReset(defaultValue);\n\nconst onReadableShoppingItems = atom<IShoppingItem[]>((get) => {\n  const state = get(mainAtom);\n  return state.items;\n});\n\nconst onReadableSumShoppingItems = atom<number>((get) => {\n  const state = get(mainAtom);\n  const sum = state.items.reduce<number>((sum, current) => {\n    return sum + current.price;\n  }, 0);\n\n  return sum;\n});\n\nconst onReadableSplitSumShoppingItems = atom<{ upper3: string; less3: string }>((get) => {\n  const state = get(mainAtom);\n  const sum = state.items.reduce<number>((sum, current) => {\n    return sum + current.price;\n  }, 0);\n\n  const strSum = `${sum}`;\n\n  if (strSum.length <= 3) {\n    return { upper3: '', less3: strSum };\n  }\n\n  const upper = strSum.substring(0, strSum.length - 3);\n  const less = strSum.substring(strSum.length - 3, strSum.length);\n\n  return {\n    upper3: Number.parseInt(upper).toLocaleString('en-US'),\n    less3: less,\n  };\n});\n\nconst onReadableRatioShoppingItems = atom<number>((get) => {\n  const state = get(mainAtom);\n  const sum = state.items.reduce<number>((sum, current) => {\n    return sum + current.price;\n  }, 0);\n\n  const strSum = `${sum}`;\n  const last3Number = strSum.substring(strSum.length - 3, strSum.length);\n  return Number.parseInt(last3Number);\n});\n\nconst onWritableAppendShoppingItem = atom<null, IShoppingItem>(null, (get, set, update) => {\n  const state = get(mainAtom);\n  state.items = [...state.items, update];\n\n  return set(mainAtom, { ...state });\n});\n\nconst onWritableRemoveShoppingItem = atom<null, string>(null, (get, set, uid) => {\n  const state = get(mainAtom);\n  state.items = state.items.filter((item) => item.uid !== uid);\n\n  return set(mainAtom, { ...state });\n});\n\nconst onWritableRemoveAllShoppingItem = atom<null, undefined>(null, (get, set) => {\n  const state = get(mainAtom);\n\n  return set(mainAtom, { ...state, items: [] });\n});\n\nexport const writable = {\n  onWritableAppendShoppingItem,\n  onWritableRemoveAllShoppingItem,\n  onWritableRemoveShoppingItem,\n};\nexport const readable = {\n  onReadableShoppingItems,\n  onReadableSumShoppingItems,\n  onReadableSplitSumShoppingItems,\n  onReadableRatioShoppingItems,\n};\n","import color from 'color';\n\nexport const uiPrimaryUX = color('#28a8ea');\nexport const uiPrimaryRed = color('#c1121f');\nexport const uiPrimaryOrange = color('#ff6000');\nexport const uiPrimaryGreen = color('#008000');\nexport const uiPrimaryFont = color('#333');\nexport const uiPrimaryInvertFont = color('#eee');\n","import styled from \"@emotion/styled\";\nimport { uiPrimaryUX } from \"../design/color\";\n\nexport const StyledDivPageBox = styled.div`\n  width: 100vw;\n  height: 100vh;\n`;\n\nexport const StyledDivPageHeading = styled.div`\n  width: 100vw;\n  height: 60px;\n  box-shadow: ${uiPrimaryUX.lighten(0.2).alpha(0.8).toString()} 0px 3px 8px;\n`;\n\nexport const StyledDivPageBody = styled.div`\n  width: 100vw;\n  height: calc(100vh - 60px);\n`;\n","import styled from '@emotion/styled';\nimport { DefaultButton, PrimaryButton, Stack, Text } from '@fluentui/react';\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils';\nimport { isFalse } from 'my-easy-fp';\nimport { useCallback } from 'react';\nimport { useIntl } from 'react-intl';\nimport * as uuid from 'uuid';\nimport * as mathjs from 'mathjs';\nimport classnames from 'classnames';\nimport { readable, wirtable } from '../atom/calculator';\nimport { readable as shoppingReadable, writable as shoppingWritable } from '../atom/shopping';\nimport {\n  uiPrimaryFont,\n  uiPrimaryGreen,\n  uiPrimaryOrange,\n  uiPrimaryRed,\n  uiPrimaryUX,\n} from '../design/color';\nimport { StyledDivPageBody, StyledDivPageBox, StyledDivPageHeading } from './Layout';\n\nconst StyledStackHeading = styled(Stack)`\n  width: 100%;\n  height: 100%;\n  background-color: ${uiPrimaryUX.toString()};\n  justify-content: center;\n  padding-left: 2em;\n\n  h1 {\n    color: ${uiPrimaryUX.lighten(0.7).toString()};\n  }\n`;\n\nconst StyledH1Formular = styled.h1`\n  color: ${uiPrimaryFont.lighten(0.1).toString()};\n  font-size: 13pt;\n  line-height: 15pt;\n  height: 15pt;\n`;\n\nconst StyledRegisteredShoppingItemBox = styled(Stack)`\n  height: calc(100vh - 310px - 30pt);\n  padding-left: 10px;\n  padding-right: 10px;\n`;\n\nconst StyledRegisteredShoppingItems = styled(Stack)`\n  height: calc(100vh - 340px - 30pt);\n`;\n\nconst StyledRegisteredShoppingEachItem = styled(Stack)`\n  height: 30px;\n  align-items: center;\n`;\n\nconst StyledStackFormularBox = styled(Stack)`\n  padding-left: 10px;\n  padding-right: 10px;\n\n  .warn-red {\n    color: ${uiPrimaryRed.alpha(0.8).toString()};\n  }\n\n  .warn-orange {\n    color: ${uiPrimaryOrange.alpha(0.8).toString()};\n  }\n\n  .good-green {\n    color: ${uiPrimaryGreen.alpha(0.8).toString()};\n  }\n`;\n\nconst StyledStackButtonBox = styled(Stack)`\n  .ms-Button {\n    width: 25vw;\n    height: 50px;\n  }\n`;\n\nconst StyledStackControlButtonBox = styled(Stack)`\n  .btn-register {\n    width: 40vw;\n    height: 50px;\n  }\n\n  .btn-clear,\n  .btn-register-clear {\n    width: 30vw;\n    height: 50px;\n  }\n`;\n\nconst StyledShoppingItemBox = styled(Stack)`\n  width: 90vw;\n\n  span {\n    font-size: 13pt;\n  }\n`;\n\nconst Calculator: React.FC = () => {\n  const intl = useIntl();\n  const formular = useAtomValue(readable.onReadableFormular);\n  const evaluation = useAtomValue(readable.onReadableEvaluation);\n  const onAppendFormular = useUpdateAtom(wirtable.onWritableAppendFormular);\n  const onRemoveFormular = useUpdateAtom(wirtable.onWritableRemoveFormular);\n  const onClearFormular = useUpdateAtom(wirtable.onWritableClearFormular);\n  const onAppendShoppingItem = useUpdateAtom(shoppingWritable.onWritableAppendShoppingItem);\n  const onRemoveShoppingItem = useUpdateAtom(shoppingWritable.onWritableRemoveShoppingItem);\n  const onRemoveAllShoppingItem = useUpdateAtom(shoppingWritable.onWritableRemoveAllShoppingItem);\n  const shoppingItems = useAtomValue(shoppingReadable.onReadableShoppingItems);\n  const sumShoppingItems = useAtomValue(shoppingReadable.onReadableSumShoppingItems);\n  const splitSumShoppingItems = useAtomValue(shoppingReadable.onReadableSplitSumShoppingItems);\n  const ratioShoppingItems = useAtomValue(shoppingReadable.onReadableRatioShoppingItems);\n  const minimumPrice = 5000;\n  const goalLastPrice = 990;\n\n  const onHandleClickCalcularButton = useCallback(\n    (num: string) => onAppendFormular(num),\n    [onAppendFormular],\n  );\n\n  const onHandleCalculateRatio = useCallback((price: number) => {\n    if (price < minimumPrice) {\n      return 0;\n    }\n\n    const currentPrice = mathjs.bignumber(price);\n    const goalPrice = mathjs.bignumber(goalLastPrice);\n\n    const ratio = currentPrice.div(goalPrice).mul(mathjs.bignumber(100));\n    const flooredRatio = ratio.mul(mathjs.bignumber(100)).floor().div(mathjs.bignumber(100));\n\n    return flooredRatio.toNumber();\n  }, []);\n\n  const onHandleCalculatePrice = useCallback((total: number, price: number) => {\n    if (total < minimumPrice) {\n      return mathjs\n        .bignumber(minimumPrice + goalLastPrice)\n        .sub(mathjs.bignumber(total))\n        .toNumber();\n    }\n\n    const currentPrice = mathjs.bignumber(price);\n    const goalPrice = mathjs.bignumber(goalLastPrice);\n\n    return goalPrice.sub(currentPrice).toNumber();\n  }, []);\n\n  const onHandleReachPrice = useCallback((total: number, price: number) => {\n    if (total < minimumPrice) {\n      return 'red';\n    }\n\n    if (price < 300) {\n      return 'red';\n    }\n\n    if (price < 600) {\n      return 'orange';\n    }\n\n    return 'green';\n  }, []);\n\n  return (\n    <StyledDivPageBox>\n      <StyledDivPageHeading>\n        <StyledStackHeading>\n          <Text as=\"h1\" variant=\"xxLarge\">\n            {intl.formatMessage({ id: 'calc.heading' })}\n          </Text>\n        </StyledStackHeading>\n      </StyledDivPageHeading>\n\n      <StyledDivPageBody>\n        <StyledRegisteredShoppingItemBox>\n          <StyledRegisteredShoppingItems>\n            {shoppingItems.map((item) => {\n              return (\n                <StyledRegisteredShoppingEachItem horizontal>\n                  <StyledShoppingItemBox>\n                    <span>{item.price.toLocaleString('en-US')}</span>\n                  </StyledShoppingItemBox>\n                  <DefaultButton onClick={() => onRemoveShoppingItem(item.uid)}>x</DefaultButton>\n                </StyledRegisteredShoppingEachItem>\n              );\n            })}\n          </StyledRegisteredShoppingItems>\n\n          <StyledStackFormularBox horizontal>\n            <Stack horizontal style={{ width: '60vw' }}>\n              <StyledH1Formular\n                style={{ width: '50%' }}\n                className={classnames({\n                  'warn-red': onHandleReachPrice(sumShoppingItems, ratioShoppingItems) === 'red',\n                  'warn-orange':\n                    onHandleReachPrice(sumShoppingItems, ratioShoppingItems) === 'orange',\n                  'good-green':\n                    onHandleReachPrice(sumShoppingItems, ratioShoppingItems) === 'green',\n                })}\n              >\n                {onHandleCalculateRatio(ratioShoppingItems)}\n                {'%'}\n              </StyledH1Formular>\n              <StyledH1Formular\n                style={{ width: '50%' }}\n                className={classnames({\n                  'warn-red': onHandleReachPrice(sumShoppingItems, ratioShoppingItems) === 'red',\n                  'warn-orange':\n                    onHandleReachPrice(sumShoppingItems, ratioShoppingItems) === 'orange',\n                  'good-green':\n                    onHandleReachPrice(sumShoppingItems, ratioShoppingItems) === 'green',\n                })}\n              >\n                {onHandleCalculatePrice(sumShoppingItems, ratioShoppingItems)}원 부족\n              </StyledH1Formular>\n            </Stack>\n            <Stack style={{ width: '40vw', textAlign: 'right' }}>\n              {splitSumShoppingItems.upper3 !== '' ? (\n                <Stack horizontal style={{ justifyContent: 'flex-end' }}>\n                  <StyledH1Formular>\n                    {splitSumShoppingItems.upper3}\n                    {','}\n                  </StyledH1Formular>\n                  <StyledH1Formular style={{ fontWeight: 'bold' }}>\n                    {splitSumShoppingItems.less3}\n                  </StyledH1Formular>\n                </Stack>\n              ) : (\n                <StyledH1Formular style={{ fontWeight: 'bold' }}>\n                  {splitSumShoppingItems.less3}\n                </StyledH1Formular>\n              )}\n            </Stack>\n          </StyledStackFormularBox>\n        </StyledRegisteredShoppingItemBox>\n\n        <Stack>\n          <StyledStackFormularBox>\n            <StyledH1Formular>{formular}</StyledH1Formular>\n          </StyledStackFormularBox>\n\n          <StyledStackFormularBox>\n            <StyledH1Formular style={{ textAlign: 'right' }}>\n              {evaluation !== '' ? `= ${evaluation}` : evaluation}\n            </StyledH1Formular>\n          </StyledStackFormularBox>\n        </Stack>\n\n        <StyledStackControlButtonBox horizontal>\n          <PrimaryButton\n            className=\"btn-register\"\n            onClick={() => {\n              try {\n                const parsedPrice = Number.parseInt(evaluation);\n                if (isFalse(Number.isNaN(parsedPrice))) {\n                  const uid = uuid.v4().replace(/-/g, '');\n\n                  onAppendShoppingItem({ price: parsedPrice, uid });\n                  onClearFormular();\n                }\n              } catch {\n                console.debug('오류 ㅠㅠ ');\n              }\n            }}\n          >\n            등록\n          </PrimaryButton>\n          <DefaultButton className=\"btn-register-clear\" onClick={() => onRemoveAllShoppingItem()}>\n            등록 모두 삭제\n          </DefaultButton>\n          <DefaultButton className=\"btn-clear\" onClick={() => onClearFormular()}>\n            C\n          </DefaultButton>\n        </StyledStackControlButtonBox>\n\n        <Stack>\n          <StyledStackButtonBox horizontal>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('7')}>7</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('8')}>8</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('9')}>9</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('/')}>÷</DefaultButton>\n          </StyledStackButtonBox>\n\n          <StyledStackButtonBox horizontal>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('4')}>4</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('5')}>5</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('6')}>6</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('*')}>×</DefaultButton>\n          </StyledStackButtonBox>\n\n          <StyledStackButtonBox horizontal>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('1')}>1</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('2')}>2</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('3')}>3</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('-')}>-</DefaultButton>\n          </StyledStackButtonBox>\n\n          <StyledStackButtonBox horizontal>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('0')}>0</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('00')}>00</DefaultButton>\n            <DefaultButton onClick={() => onRemoveFormular()}>{'<'}</DefaultButton>\n            <DefaultButton onClick={() => onHandleClickCalcularButton('+')}>+</DefaultButton>\n          </StyledStackButtonBox>\n        </Stack>\n      </StyledDivPageBody>\n    </StyledDivPageBox>\n  );\n};\n\nexport default Calculator;\n","import React from \"react\";\nimport { initializeIcons } from \"@fluentui/font-icons-mdl2\";\nimport { PartialTheme, ThemeProvider } from \"@fluentui/react\";\nimport korean from \"./i18n/korean.json\";\nimport { IntlProvider } from \"react-intl\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport Calculator from \"./pages/Calculator\";\n\nconst appTheme: PartialTheme = {\n  palette: {},\n};\n\nconst App: React.FC = () => {\n  initializeIcons();\n\n  console.log(\"테스트: \", process.env.PUBLIC_URL);\n\n  return (\n    <IntlProvider messages={korean} locale=\"ko\" defaultLocale=\"ko\">\n      <ThemeProvider theme={appTheme}>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <Routes>\n            <Route path=\"/\" element={<Calculator />} />\n          </Routes>\n        </BrowserRouter>\n      </ThemeProvider>\n    </IntlProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport emotionReset from 'emotion-reset'\nimport { Global, css } from '@emotion/react'\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Global\n      styles={css`\n      ${emotionReset}\n\n      *, *::after, *::before {\n        box-sizing: border-box;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-font-smoothing: antialiased;\n        font-smoothing: antialiased;\n      }\n    `} />\n    \n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}